"dc84a6f2a5f72d8b412e05ffa8c1bef00e6d2b53"
[cl-struct-undo-tree [nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil ([nil (#1=[nil nil ((#("  console.log(user);
" 0 13 (fontified t) 13 14 (fontified t face (rainbow-delimiters-depth-3-face)) 14 18 (fontified t) 18 19 (fontified t face (rainbow-delimiters-depth-3-face)) 19 21 (fontified t)) . 377) (undo-tree-id196 . -21) (undo-tree-id197 . -21) (undo-tree-id198 . -21) (undo-tree-id199 . -21) (undo-tree-id200 . -21) (undo-tree-id201 . -2) 379 (t 23087 474 216721 350000)) nil (23087 479 359449 188000) 0 nil]) ((#("  //let passHash = bcrypt.hashSync(req.body.password, 8);
" 0 2 (fontified t) 2 4 (fontified t face font-lock-comment-delimiter-face) 4 57 (fontified t face font-lock-comment-face) 57 58 (fontified t face font-lock-comment-face)) . 299) (undo-tree-id194 . -58) (undo-tree-id195 . -2) 301 (t 23087 463 956875 628000)) nil (23087 474 182698 881000) 0 nil]) ((#("  // console.log(user.passwordHash, user.verifyPassword(req.body.password));
" 0 2 (fontified t) 2 5 (fontified t face font-lock-comment-delimiter-face) 5 16 (fontified t face font-lock-comment-face) 16 17 (fontified t face font-lock-comment-face) 17 55 (fontified t face font-lock-comment-face) 55 56 (fontified t face font-lock-comment-face) 56 73 (fontified t face font-lock-comment-face) 73 74 (fontified t face font-lock-comment-face) 74 75 (fontified t face font-lock-comment-face) 75 76 (fontified t face font-lock-comment-face) 76 77 (fontified t face font-lock-comment-face)) . 456) (undo-tree-id186 . -77) (undo-tree-id187 . -77) (undo-tree-id188 . -77) (undo-tree-id189 . -77) (undo-tree-id190 . -77) (undo-tree-id191 . -77) (undo-tree-id192 . -2) 458) nil (23087 463 920282 923000) 0 nil]) ((#("  console.log(username, req.body.username, req.body.password);
" 0 13 (fontified t) 13 14 (fontified t face (rainbow-delimiters-depth-3-face)) 14 60 (fontified t) 60 61 (fontified t face (rainbow-delimiters-depth-3-face)) 61 63 (fontified t)) . 357) (undo-tree-id193 . -2) 359 (t 23087 373 828250 44000)) nil (23087 463 920287 765000) 0 nil]) ((596 . 631) (#("    res.session = req.session || {};
" 0 33 (fontified t) 33 34 (fontified t face (rainbow-delimiters-depth-3-face)) 34 35 (fontified t face (rainbow-delimiters-depth-3-face)) 35 36 (fontified t) 36 37 (fontified t)) . 596) (undo-tree-id177 . -37) (undo-tree-id178 . -37) (undo-tree-id179 . 1) (undo-tree-id180 . 2) (undo-tree-id181 . 2) (undo-tree-id182 . -35) (undo-tree-id183 . -35) (undo-tree-id184 . -35) (undo-tree-id185 . -37)) nil (23087 373 804144 60000) 0 nil]) ((631 . 632) (621 . 631) (600 . 621) (596 . 600) (596 . 597) 609 (t 23087 321 15739 744000)) nil (23087 373 804148 419000) 0 nil]) ((626 . 634) (#("verify" 0 6 (fontified t)) . 626) (undo-tree-id173 . -5) (undo-tree-id174 . -5) (undo-tree-id175 . -5) (undo-tree-id176 . -5) 631 (t 23087 241 956881 884000)) nil (23087 320 989913 47000) 0 nil]) ((480 . 498) (#("    user = user[0];
" 0 15 (fontified t) 15 16 (fontified t face (rainbow-delimiters-depth-3-face)) 16 17 (fontified t) 17 18 (fontified t face (rainbow-delimiters-depth-3-face)) 18 19 (fontified t) 19 20 (fontified t)) . 480) (undo-tree-id158 . -20) (undo-tree-id159 . -20) (undo-tree-id160 . 1) (undo-tree-id161 . -20) (undo-tree-id162 . -20) (undo-tree-id163 . -20) (undo-tree-id164 . -20) (undo-tree-id165 . -20) (undo-tree-id166 . -20) (undo-tree-id167 . 2) (undo-tree-id168 . 2) (undo-tree-id169 . -18) (undo-tree-id170 . -18) (undo-tree-id171 . -18) (undo-tree-id172 . -20)) nil (23087 241 906472 113000) 0 nil]) ((484 . 499) (479 . 484) 478) nil (23087 241 906476 834000) 0 nil] [nil nil ((448 . 451) (t 23087 164 644513 476000)) ((#("One" 0 3 (fontified t)) . 448) (undo-tree-id154 . 1) (undo-tree-id155 . 1) (undo-tree-id156 . -2) (undo-tree-id157 . -2) (t 23087 206 217328 165000)) (23087 206 185293 299000) 0 nil]) ((451 . 474) (#("      username: username
" 0 25 (fontified t)) . 451) (undo-tree-id136 . -25) (undo-tree-id137 . -25) (undo-tree-id138 . -25) (undo-tree-id139 . 16) (undo-tree-id140 . 16) (undo-tree-id141 . -9) (undo-tree-id142 . -9) (undo-tree-id143 . -9) (undo-tree-id144 . -25)) nil (23087 232 44225 144000) 0 nil]) ((#("    }
" 0 4 (fontified t) 4 5 (fontified t face (rainbow-delimiters-depth-4-face)) 5 6 (fontified t)) . 476) (undo-tree-id145 . -6) (undo-tree-id146 . -6) (undo-tree-id147 . -4) (undo-tree-id148 . 2) (undo-tree-id149 . -5) 480) nil (23087 164 603240 830000) 0 nil]) ((#("{where: " 0 1 (fontified t face (rainbow-delimiters-depth-4-face)) 1 8 (fontified t)) . 449) (undo-tree-id150 . -7) (undo-tree-id151 . -7) (undo-tree-id152 . -7) (undo-tree-id153 . -7) 456) nil (23087 164 603247 338000) 0 nil]) ((#("    " 0 4 (fontified nil)) . 450) (#("
" 0 1 (fontified t)) . -450) 422 (t 23087 85 962160 195000)) nil (23087 164 603249 216000) 0 nil]) ((501 . 522) (#("    console.log(user);
" 0 15 (fontified t) 15 16 (fontified t face (rainbow-delimiters-depth-3-face)) 16 20 (fontified t) 20 21 (fontified t face (rainbow-delimiters-depth-3-face)) 21 22 (fontified t) 22 23 (fontified t)) . 501) (undo-tree-id121 . 1) (undo-tree-id122 . -23) (undo-tree-id123 . -23) (undo-tree-id124 . -23) (undo-tree-id125 . -23) (undo-tree-id126 . -23) (undo-tree-id127 . -23) (undo-tree-id128 . -23) (undo-tree-id129 . -23) (undo-tree-id130 . -23)) nil (23087 85 937907 663000) 0 nil]) ((526 . 529) 545) nil (23087 85 937911 59000) 0 nil]) ((505 . 523) (500 . 505) 497) nil (23087 85 937912 825000) 0 nil]) ((#("   
" 0 3 (fontified t) 3 4 (fontified t)) . 299) (undo-tree-id131 . 1) (undo-tree-id132 . -4) (undo-tree-id133 . -4) (undo-tree-id134 . -2) 301) nil (23087 85 937916 189000) 0 nil]) ((#(" " 0 1 (fontified t)) . -302) (undo-tree-id135 . -1) 303 (298 . 303) (t 23087 29 912856 944000) 263) nil (23087 85 937918 845000) 0 nil]) ((#("user.js" 0 7 (fontified t face font-lock-string-face)) . 100) (undo-tree-id116 . -6) (undo-tree-id117 . -6) (undo-tree-id118 . -6) (undo-tree-id119 . -7) (undo-tree-id120 . -6) 106 (t 23086 65335 132376 853000)) nil (23087 29 869226 246000) 0 nil]) ((508 . 582) (#("    console.log(user.passwordHash, user.verifyPassword(req.body.password));
" 0 15 (fontified t) 15 16 (fontified t face (rainbow-delimiters-depth-3-face)) 16 35 (fontified t) 35 54 (fontified t) 54 55 (fontified t face (rainbow-delimiters-depth-4-face)) 55 72 (fontified t) 72 73 (fontified t face (rainbow-delimiters-depth-4-face)) 73 74 (fontified t face (rainbow-delimiters-depth-3-face)) 74 75 (fontified t) 75 76 (fontified t)) . 508) (undo-tree-id99 . -76) (undo-tree-id100 . -76) (undo-tree-id101 . 1) (undo-tree-id102 . -35) (undo-tree-id103 . -73) (undo-tree-id104 . -35) (undo-tree-id105 . 2) (undo-tree-id106 . 2) (undo-tree-id107 . -74) (undo-tree-id108 . -74) (undo-tree-id109 . -74) (undo-tree-id110 . -76) (364 . 427) (#("    console.log(username, req.body.username, req.body.password);
" 0 15 (fontified t) 15 16 (fontified t face (rainbow-delimiters-depth-3-face)) 16 62 (fontified t) 62 63 (fontified t face (rainbow-delimiters-depth-3-face)) 63 64 (fontified t) 64 65 (fontified t)) . 364) (undo-tree-id111 . -65) (undo-tree-id112 . -65) (undo-tree-id113 . -65)) nil (23086 65335 109159 995000) 0 nil]) ((583 . 585) (#(";" 0 1 (fontified t)) . -583) (undo-tree-id114 . -1) (undo-tree-id115 . -1) 584 (t 23086 65323 522519 589000)) nil (23086 65335 109164 949000) 0 nil]) ((#("
" 0 1 (fontified t)) . 585) (undo-tree-id86 . -1) (undo-tree-id87 . -1) (undo-tree-id88 . 1)) nil (23086 65323 501270 498000) 0 nil]) ((545 . 585) 544) nil (23086 65323 501273 603000) 0 nil]) ((543 . 545) (535 . 543) (514 . 535) (509 . 514) 507) nil (23086 65323 501275 452000) 0 nil]) ((418 . 428) (#("b" 0 1 (fontified t)) . -418) (undo-tree-id89 . -1) (#("o" 0 1 (fontified t)) . -419) (undo-tree-id90 . -1) 420 (414 . 420) (409 . 414) (#("r" 0 1 (fontified t)) . -409) (undo-tree-id91 . -1) (#("e" 0 1 (fontified t)) . -410) (undo-tree-id92 . -1) (#("q" 0 1 (fontified t)) . -411) (undo-tree-id93 . -1) (#("." 0 1 (fontified t)) . -412) (undo-tree-id94 . -1) (#("b" 0 1 (fontified t)) . -413) (undo-tree-id95 . -1) (#("o" 0 1 (fontified t)) . -414) (undo-tree-id96 . -1) 415 (400 . 415) (389 . 400) (368 . 389) (#("l" 0 1 (fontified t)) . -368) (undo-tree-id97 . -1) (#("e" 0 1 (fontified t)) . -369) (undo-tree-id98 . -1) 370 (368 . 370) (363 . 368) (t 23086 65143 184723 722000) 308) nil (23086 65323 501286 371000) 0 nil]) ((510 . 563) (#("    res.session.userId = user.id;
    res.redirect('/');
" 0 34 (fontified t) 34 50 (fontified t) 50 51 (fontified t face (rainbow-delimiters-depth-3-face)) 51 54 (fontified t face font-lock-string-face) 54 55 (fontified t face (rainbow-delimiters-depth-3-face)) 55 56 (fontified t) 56 57 (fontified t)) . 510) (undo-tree-id37 . 1) (undo-tree-id38 . -57) (undo-tree-id39 . -57) (undo-tree-id40 . -34) (undo-tree-id41 . -34) (undo-tree-id42 . 24) (undo-tree-id43 . 2) (undo-tree-id44 . 2) (undo-tree-id45 . -55) (undo-tree-id46 . -55) (undo-tree-id47 . -55) (undo-tree-id48 . -57)) nil (23086 65143 109710 247000) 0 nil]) ((548 . 566) (543 . 548) (#("o" 0 1 (fontified t)) . -543) (undo-tree-id49 . -1) 544 (543 . 544) (526 . 543) (517 . 526)) nil (23086 65143 109715 549000) 0 nil]) ((449 . 450) (#("q" 0 1 (fontified t)) . 449)) nil (23086 65143 109717 447000) 0 nil]) ((516 . 517) (#("q" 0 1 (fontified t)) . -516) (undo-tree-id50 . -1) (#("." 0 1 (fontified t)) . -517) (undo-tree-id51 . -1) (#("s" 0 1 (fontified t)) . -518) (undo-tree-id52 . -1) (#("e" 0 1 (fontified t)) . -519) (undo-tree-id53 . -1) (#("s" 0 1 (fontified t)) . -520) (undo-tree-id54 . -1) (#("s" 0 1 (fontified t)) . -521) (undo-tree-id55 . -1) 522 (514 . 522) (510 . 514) (510 . 511)) nil (23086 65143 109723 764000) 0 nil]) ((#("    (res,req,next) => {
	res.locals.loggedin = req.session.loggedin;
	res.locals.userId = req.session.userid;
	next()
" 0 4 (fontified t) 4 5 (fontified t face (rainbow-delimiters-depth-3-face)) 5 17 (fontified t) 17 18 (fontified t face (rainbow-delimiters-depth-3-face)) 18 22 (fontified t) 22 23 (fontified t face (rainbow-delimiters-depth-3-face)) 23 24 (fontified t) 24 68 (fontified t) 68 69 (fontified t) 69 110 (fontified t) 110 115 (fontified t) 115 116 (fontified t face (rainbow-delimiters-depth-4-face)) 116 117 (fontified t face (rainbow-delimiters-depth-4-face)) 117 118 (fontified t)) . 510) (undo-tree-id56 . -118) (undo-tree-id57 . -118) (undo-tree-id58 . 1) (undo-tree-id59 . -13) (undo-tree-id60 . -24) (undo-tree-id61 . -24) (undo-tree-id62 . -69) (undo-tree-id63 . -69) (undo-tree-id64 . -110) (undo-tree-id65 . -110) (undo-tree-id66 . -116) (undo-tree-id67 . -116) (undo-tree-id68 . -13) (undo-tree-id69 . -118) (undo-tree-id70 . -13) (undo-tree-id71 . -116) 523) nil (23086 65143 109735 923000) 0 nil]) ((622 . 627) (621 . 622) (619 . 621) (598 . 619) (#(" " 0 1 (fontified t)) . -598) (undo-tree-id72 . -1) 599 (598 . 599) (#("=" 0 1 (fontified t)) . -598) (undo-tree-id73 . -1) 599 (596 . 599) (#("D" 0 1 (fontified t)) . -596) (undo-tree-id74 . -1) 597 (591 . 597) (580 . 591) (578 . 580) 556) nil (23086 65143 109744 560000) 0 nil]) ((552 . 557) (#("i" 0 1 (fontified t)) . -552) (undo-tree-id75 . -1) (#("n" 0 1 (fontified t)) . -553) (undo-tree-id76 . -1) 554 (540 . 554) (537 . 540) (#("q" 0 1 (fontified t)) . -537) (undo-tree-id77 . -1) 538 (535 . 538)) nil (23086 65143 109749 742000) 0 nil]) (555) nil (23086 65143 109752 91000) 0 nil]) ((555 . 556)) nil (23086 65143 109752 861000) 0 nil]) ((#(" " 0 1 (fontified t)) . -555) (undo-tree-id78 . -1) 556 (536 . 556) (535 . 536) (533 . 535) (523 . 533) (#(" " 0 1 (fontified t)) . -523) (undo-tree-id79 . -1) 524 (518 . 524) (#("." 0 1 (fontified t)) . -518) (undo-tree-id80 . -1) 519 (515 . 519) (512 . 514) (512 . 513)) nil (23086 65143 109757 595000) 0 nil]) ((#("r" 0 1 (fontified t)) . -512) (undo-tree-id81 . -1) (#("e" 0 1 (fontified t)) . -513) (undo-tree-id82 . -1) 514 (512 . 514) (#("r" 0 1 (fontified t)) . -512) (undo-tree-id83 . -1) 513 (512 . 513) (#(" " 0 1 (fontified t)) . -512) (undo-tree-id84 . -1) (#(" " 0 1 (fontified t)) . -513) (undo-tree-id85 . -1) 514 (509 . 514) (t 23086 64831 188455 663000) 447) nil (23086 65143 109764 237000) 0 nil]) ((270 . 510) (#("   let username = req.body.username;
   //let passHash = bcrypt.hashSync(req.body.password, 8);
   let user = await User.find({
     where: {
	 username: username
     }
   });
    req.session.loggedIn = user.verifyPassword(req.body.password); 
" 0 3 (fontified t) 3 6 (fontified t face font-lock-keyword-face) 6 7 (fontified t) 7 15 (fontified t face font-lock-variable-name-face) 15 37 (fontified t) 37 40 (fontified t) 40 41 (fontified t face font-lock-comment-delimiter-face) 41 42 (fontified t face font-lock-comment-delimiter-face) 42 45 (fontified t face font-lock-comment-face) 45 46 (fontified t face font-lock-comment-face) 46 54 (fontified t face font-lock-comment-face) 54 72 (fontified t face font-lock-comment-face) 72 73 (fontified t face font-lock-comment-face) 73 93 (fontified t face font-lock-comment-face) 93 94 (fontified t face font-lock-comment-face) 94 96 (fontified t face font-lock-comment-face) 96 99 (fontified t) 99 102 (fontified t face font-lock-keyword-face) 102 103 (fontified t) 103 107 (fontified t face font-lock-variable-name-face) 107 125 (fontified t) 125 126 (fontified t face (rainbow-delimiters-depth-3-face)) 126 127 (fontified t face (rainbow-delimiters-depth-4-face)) 127 140 (fontified t) 140 141 (fontified t face (rainbow-delimiters-depth-5-face)) 141 142 (fontified t) 142 144 (fontified t) 144 163 (fontified t) 163 168 (fontified t) 168 169 (fontified t face (rainbow-delimiters-depth-5-face)) 169 170 (fontified t) 170 173 (fontified t) 173 174 (fontified t face (rainbow-delimiters-depth-4-face)) 174 175 (fontified t face (rainbow-delimiters-depth-3-face)) 175 177 (fontified t) 177 223 (fontified t) 223 224 (fontified t face (rainbow-delimiters-depth-3-face)) 224 241 (fontified t) 241 242 (fontified t face (rainbow-delimiters-depth-3-face)) 242 243 (fontified t) 243 244 (fontified t) 244 245 (fontified t)) . 270) (undo-tree-id0 . -37) (undo-tree-id1 . -37) (undo-tree-id2 . -96) (undo-tree-id3 . -96) (undo-tree-id4 . -128) (undo-tree-id5 . -128) (undo-tree-id6 . -142) (undo-tree-id7 . -142) (undo-tree-id8 . -163) (undo-tree-id9 . -163) (undo-tree-id10 . -245) (undo-tree-id11 . -245) (undo-tree-id12 . -170) (undo-tree-id13 . -170) (undo-tree-id14 . 2) (undo-tree-id15 . -177) (undo-tree-id16 . -177) (undo-tree-id17 . 3) (undo-tree-id18 . 3) (undo-tree-id19 . -242) (undo-tree-id20 . -242) (undo-tree-id21 . -242) (undo-tree-id22 . -245) (137 . 171) (#("const bcrypt = require('bcrypt');
" 0 5 (fontified t face font-lock-keyword-face) 5 6 (fontified t) 6 12 (fontified t face font-lock-variable-name-face) 12 22 (fontified t) 22 23 (fontified t face (rainbow-delimiters-depth-1-face)) 23 31 (fontified t face font-lock-string-face) 31 32 (fontified t face (rainbow-delimiters-depth-1-face)) 32 34 (fontified t)) . 137) (undo-tree-id23 . -34) (undo-tree-id24 . -34) (undo-tree-id25 . -34) (66 . 111) (#("const models = require('../models/user.js');
" 0 5 (fontified t face font-lock-keyword-face) 5 6 (fontified t) 6 12 (fontified t face font-lock-variable-name-face) 12 22 (fontified t) 22 23 (fontified t face (rainbow-delimiters-depth-1-face)) 23 42 (fontified t face font-lock-string-face) 42 43 (fontified t face (rainbow-delimiters-depth-1-face)) 43 45 (fontified t)) . 66) (undo-tree-id26 . -45) (undo-tree-id27 . -45) (undo-tree-id28 . -45)) nil (23086 64831 160929 377000) 0 nil]) ((495 . 513) (474 . 495) (471 . 474) (#("(" 0 1 (fontified t face (rainbow-delimiters-depth-3-face))) . -471) (undo-tree-id29 . -1) 472 (450 . 451) (451 . 471) (450 . 451)) nil (23086 64831 160938 977000) 0 nil]) ((310 . 312)) nil (23086 64831 160941 914000) 0 nil]) ((444 . 449) (#("o" 0 1 (fontified t)) . -444) (undo-tree-id30 . -1) 445 (442 . 445) (#("    " 0 4 (fontified nil)) . -441) (undo-tree-id31 . -4) (445 . 446) (437 . 445) 435) nil (23086 64831 160948 460000) 0 nil]) ((#("	 " 0 1 (fontified nil) 1 2 (fontified nil)) . -436) (undo-tree-id32 . -2) (436 . 437) (#("	" 0 1 (fontified nil)) . 436) (431 . 436) (433 . 434) (431 . 433) (410 . 412) (#("       " 0 7 (fontified nil)) . 410) (435 . 436) (#("," 0 1 (fontified t)) . -435) (undo-tree-id33 . -1) 436) nil (23086 64831 160957 780000) 0 nil]) ((#("       password: req.body.username
" 0 35 (fontified t)) . 437) (undo-tree-id34 . -4) (undo-tree-id35 . -35) (undo-tree-id36 . -35) 441 (t 23086 64742 379490 592000)) nil (23086 64831 160963 395000) 0 nil]) nil nil (23086 64831 160964 804000) 0 nil] #1# 4418 43 nil]